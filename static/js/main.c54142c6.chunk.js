(this["webpackJsonpdataviz-treemap-diagram-d3"]=this["webpackJsonpdataviz-treemap-diagram-d3"]||[]).push([[0],{38:function(t,e,a){t.exports=a(45)},43:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),u=a(4),i=(a(43),a(12)),s=a.n(i),p=a(17);function l(t){var e=Object(n.useState)([]),a=Object(u.a)(e,2),r=a[0],c=a[1],o=Object(n.useState)(!0),i=Object(u.a)(o,2),l=i[0],d=i[1];function f(){return(f=Object(p.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,c(n),d(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),[r,l]}var d=a(1),f=function(t){return t<6?0:t<12?80:160},g=function(t){switch(t){case 0:case 6:case 12:return 0;case 1:case 7:case 13:return 20;case 2:case 8:case 14:return 40;case 3:case 9:case 15:return 60;case 4:case 10:case 16:return 80;case 5:case 11:case 17:return 100}};function m(t,e){t.each((function(){for(var t,a=d.c(this),n=a.text().split(/\s+/).reverse(),r=[],c=0,o=a.attr("x"),u=a.attr("y"),i=a.text(null).append("tspan").attr("x",o).attr("y",u).attr("dy","0em");t=n.pop();)r.push(t),i.text(r.join(" ")),i.node().getComputedTextLength()>e&&(r.pop(),i.text(r.join(" ")),r=[t],i=a.append("tspan").attr("x",o).attr("y",u).attr("dy",1.1*++c+0+"em").text(t))}))}function b(t,e,a,n){var r=d.c(e.current),c=80,o=80,u=a-80-o,i=n-c-150,s=function(t){return t.data.name},p=function(t){return t.data.category},l=function(t){return t.data.value},b=function(t){return t.x0},x=function(t){return t.y0},v=u/2,y={Wii:"rgb(76, 146, 195)",DS:"rgb(190, 210, 237)",X360:"rgb(254, 153, 61)",GB:"rgb(254, 201, 147)",PS3:"rgb(86, 180, 86)",NES:"rgb(174, 229, 161)","3DS":"rgb(254, 173, 170)",PS:"rgb(163, 120, 111)",N64:"rgb(209, 176, 169)",PS2:"rgb(222, 82, 83)",PS4:"rgb(169, 134, 202)",SNES:"rgb(208, 192, 221)",GBA:"rgb(234, 116, 206)",XB:"rgb(249, 197, 219)",PC:"rgb(153, 153, 153)",2600:"rgb(199, 200, 202)",PSP:"rgb(202, 200, 81)",XOne:"rgb(226, 227, 170)"},h=r.append("g").attr("id","treemap").attr("transform","translate(".concat(o,", ").concat(c,")")),j=d.b(t).sum((function(t){return t.value})).sort((function(t,e){return e.height-t.height||e.value-t.value}));d.d().size([u,i])(j);var S=h.append("g").attr("text-anchor","middle");S.append("text").attr("id","title").attr("x",v).attr("y",-30).text("Video Game Sales"),S.append("text").attr("id","description").attr("x",v).attr("y",-8).text("Top 100 Most Sold Video Games Grouped by Platform");var O=d.c("body").append("div").attr("id","tooltip").style("opacity",0),E=h.selectAll(null).data(j.leaves()).enter().append("g").attr("transform",(function(t){return"translate(".concat(b(t),", ").concat(x(t),")")}));E.append("rect").attr("class","tile").attr("data-name",(function(t){return s(t)})).attr("data-category",(function(t){return p(t)})).attr("data-value",(function(t){return l(t)})).attr("width",(function(t){return function(t){return t.x1-b(t)}(t)})).attr("height",(function(t){return function(t){return t.y1-x(t)}(t)})).style("fill",(function(t){return y[p(t)]})).on("mouseover",(function(t){O.transition().duration(100).style("opacity",.9),O.html("Name: ".concat(s(t)," \n                        </br>Category: ").concat(p(t),"\n                        </br>Value: ").concat(l(t))).style("left",d.a.pageX-50+"px").style("top",d.a.pageY-120+"px").attr("data-value",l(t))})).on("mouseout",(function(t){O.transition().duration(500).style("opacity",0)})),E.append("text").attr("class","tileText").attr("x",3).attr("y",10).text((function(t){return s(t)})).call(m,45);var w=Object.entries(y),P=r.append("g").attr("id","legend").attr("transform","translate(".concat(u/2,", ").concat(i+100,")")).selectAll("g").data(w).enter().append("g");P.append("rect").attr("class","legend-item").attr("x",(function(t,e){return f(e)})).attr("y",(function(t,e){return g(e)})).attr("width",15).attr("height",15).style("fill",(function(t){return t[1]})),P.append("text").attr("class","legend-item-text").attr("x",(function(t,e){return f(e)+20})).attr("y",(function(t,e){return g(e)+10})).text((function(t){return t[0]}))}function x(){var t=l("https://cdn.freecodecamp.org/testable-projects-fcc/data/tree_map/video-game-sales-data.json"),e=Object(u.a)(t,2),a=e[0],c=e[1],o=Object(n.useRef)();return Object(n.useEffect)((function(){0!==a.length&&b(a,o,1260,600)}),[c]),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"viz-container"},r.a.createElement("svg",{className:"graph",ref:o,viewBox:"0 0 ".concat(1260," ").concat(600)})))}var v=document.getElementById("root");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),v)}},[[38,1,2]]]);
//# sourceMappingURL=main.c54142c6.chunk.js.map